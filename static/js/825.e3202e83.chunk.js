"use strict";(self.webpackChunkens_app=self.webpackChunkens_app||[]).push([[825],{89825:function(e,n,t){t.d(n,{Z:function(){return q}});var i,a,r,s,l=t(70885),o=t(30168),d=t(62409),c=t(72791),h=t(52336),g=t(84376),u=t(9958),x=t(22020),f=t(7003),m=t(39827),p=t(85133),y=t(38367),Z=t(17711),j=t(98565),v=t(65578),w=t(2132),b=t(45843),C=t(3713),k=t(74824),P=t(14659),E=t(79456),S=t(43745),F=t(34731),N=t(19493),_=t(34059),B=t(81058),D=t(80184),H=(0,E.default)("div")(i||(i=(0,o.Z)(["\n  position: relative;\n"])));function O(e){var n=e.address,t=(0,c.createRef)(),i=(0,c.createRef)(),a=(0,c.useState)(!1),r=(0,l.Z)(a,2),s=r[0],o=r[1],d=(0,c.useState)(!1),h=(0,l.Z)(d,2),g=h[0],u=h[1],f=(0,x.$)().t;(0,j.t$)([t,i],(function(){return o(!1)}));var m=function(){u(!1)};return(0,D.jsxs)(H,{children:[(0,D.jsx)(S.a,{ref:i,onClick:function(){o((function(e){return!e}))},children:f("expiryNotification.reminder")}),s&&(0,D.jsx)(F.Z,{ref:t,children:(0,D.jsx)(N.Z,{onClick:function(){u(!0),o(!1)},address:n,children:f("c.email")},"email")}),g&&(0,D.jsx)(_.Z,{closeModal:m,children:(0,D.jsx)(B.Z,{address:n,onCancel:m})})]})}var R=(0,d.Z)("div",{target:"elhgnhy0"})("align-items:start;display:flex;flex-direction:column;grid-area:actions;justify-content:flex-start;> *{margin:10px 0 10px 0;}",m.ZP.small(a||(a=(0,o.Z)(["\n    align-items: center; \n    flex-direction: row;\n    > * { \n      margin: 0 0 0 20px;\n    }\n  "])))," ",m.ZP.large(r||(r=(0,o.Z)(["\n    justify-content: flex-end;\n  "]))),""),$=(0,d.Z)("div",{target:"elhgnhy1"})({name:"1v6bkkh",styles:"grid-area:renew;display:flex;flex-direction:column;"}),L=(0,d.Z)(C.Co,{target:"elhgnhy2"})({name:"cn1f3p",styles:"margin-right:20px;align-self:flex-start;"}),M=(0,d.Z)(u.ww.div,{target:"elhgnhy3"})({name:"imdri6",styles:"background:#000033;padding:20px;margin:20px;margin-left:0;display:flex;flex-direction:column;"}),U=(0,d.Z)("div",{target:"elhgnhy4"})({name:"4ggw95",styles:"display:flex;justify-content:flex-end;align-items:flex-start;"}),Y=(0,d.Z)(P.C,{target:"elhgnhy5"})(""),A=u.ww.custom(Y),G=(0,d.Z)("div",{target:"elhgnhy6"})({name:"1ows65d",styles:"max-height:500px;overflow-y:scroll;"}),I=(0,d.Z)("span",{target:"elhgnhy7"})("color:#f6412d;margin-right:auto;margin-bottom:1em;",m.ZP.small(s||(s=(0,o.Z)(["\n    margin-bottom: 0em;\n  "]))),"");function V(e){return e.length>0}function q(e){var n=e.selectedNames,t=e.address,i=e.allNames,a=e.setCheckedBoxes,r=e.setSelectAll,s=e.refetch,o=e.data,d=e.getterString,m=e.checkedOtherOwner,C=(0,x.$)().t,P=(0,j.Y7)(),E=P.state,S=P.actions,F=E.editing,N=E.txHash,_=E.pending,B=E.confirmed,H=S.startEditing,Y=S.stopEditing,q=S.startPending,z=S.setConfirmed,J=(0,c.useState)(1),K=(0,l.Z)(J,2),Q=K[0],T=K[1],W=(0,h.a)(y.GH),X=W.data,ee=(X=void 0===X?{}:X).getEthPrice,ne=W.loading,te=(0,Z.o6)(Q),ie=n.map((function(e){return e.split(".")[0]})),ae=(0,h.a)(y.vh,{variables:{labels:ie,duration:te}}),re=ae.data,se=(re=void 0===re?{}:re).getRentPrices,le=ae.loading,oe=(0,g.D)(p.cL,{onCompleted:function(e){var n=Object.values(e)[0];q(n),se&&n&&ee&&(0,v.F2)({labels:ie,transactionId:n,type:"renew",price:new f.Z("".concat(se._hex)).toEth().mul(ee).toFixed(2),years:Q})}}),de=(0,l.Z)(oe,1)[0];return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(R,{children:F?null:_&&!B?(0,D.jsx)(b.Z,{txHash:N,onConfirmed:function(){z(),(0,w.sE)(s,300,"expiryDate",n[0],o,d),a({}),r(!1)}}):(0,D.jsxs)(D.Fragment,{children:[t&&i.length>0?(0,D.jsx)(O,{address:t}):"",(0,D.jsx)(L,{onClick:function(){ie.length>0&&H()},type:ie.length>0?"primary":"disabled",children:C("address.renew.button")})]})}),(0,D.jsx)($,{children:F&&(0,D.jsx)(u.M_,{children:(0,D.jsxs)(M,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[(0,D.jsx)(A,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},labels:ie,years:Q,loading:le,price:se,setYears:T,duration:te,ethUsdPriceLoading:ne,ethUsdPrice:ee||0}),(0,D.jsxs)(U,{children:[m&&(0,D.jsxs)(I,{children:["*",C("singleName.expiry.cannotown")]}),(0,D.jsx)(k.ZP,{stopEditing:Y,mutation:function(){de({variables:{labels:ie,duration:te}})},mutationButton:C("address.renew.confirmButton"),confirm:!0,isValid:V(n),extraDataComponent:(0,D.jsxs)(G,{children:[C("address.renew.confirm.0"),"\n",(0,D.jsx)("ul",{children:n.map((function(e,n){return(0,D.jsx)("li",{children:e},n)}))}),C("address.renew.confirm.1"),C("address.renew.year",{count:Q})]})})]})]})})})]})}}}]);
//# sourceMappingURL=825.e3202e83.chunk.js.map